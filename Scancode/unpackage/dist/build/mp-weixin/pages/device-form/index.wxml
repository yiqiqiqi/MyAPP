<view class="device-form"><form data-event-opts="{{[['submit',[['handleSubmit',['$event']]]]]}}" bindsubmit="__e"><view class="form-header"><text class="form-title">设备检测表单</text><view class="device-info"><text>{{"设备编号："+deviceId}}</text></view></view><view class="process-section"><text class="label">选择工序</text><picker class="process-picker" mode="selector" range="{{processNames}}" value="{{currentProcessIndex}}" data-event-opts="{{[['change',[['handleProcessChange',['$event']]]]]}}" bindchange="__e"><view class="picker-text">{{''+(processNames[currentProcessIndex]||'请选择工序')+''}}</view></picker></view><view class="form-section"><view class="form-item"><text class="label">检测人员</text><input type="text" placeholder="请输入检测人员姓名" data-event-opts="{{[['input',[['__set_model',['$0','inspector','$event',[]],['currentProcess']]]]]}}" value="{{currentProcess.inspector}}" bindinput="__e"/></view><view class="form-item"><text class="label">检测时间</text><picker mode="date" value="{{currentProcess.inspectTime}}" data-event-opts="{{[['change',[['handleDateChange',['$event']]]]]}}" bindchange="__e"><view class="picker-text">{{''+(currentProcess.inspectTime||'请选择检测时间')+''}}</view></picker></view><view class="form-item"><text class="label">检测图片</text><view class="image-upload"><block wx:if="{{currentProcess.image}}"><image class="preview-image" src="{{currentProcess.image}}" mode="aspectFit"></image></block><button data-event-opts="{{[['tap',[['handleUploadImage',['$event']]]]]}}" class="upload-btn" bindtap="__e">{{''+(currentProcess.image?'重新上传':'上传图片')+''}}</button></view></view></view><button class="submit-btn" form-type="submit" type="primary">提交表单</button></form></view>