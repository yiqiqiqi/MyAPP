{"code":"import { __awaiter } from \"tslib\";\nimport { defineComponent } from \"vue\";\nexport default defineComponent({\n    data() {\n        return {\n            // 登录相关数据\n            isLoggedIn: false,\n            loginAccount: '',\n            loginPassword: '',\n            allowedAccount: 'admin',\n            allowedPassword: '123456',\n            deviceId: '',\n            currentProcessIndex: null,\n            processNames: [\n                \"（康鼎）穿光纤及模组\",\n                \"（康鼎）固定环处理\",\n                \"（康鼎）过程检\",\n                \"（康鼎）成品检\",\n                \"来料检\",\n                \"清洗\",\n                \"固定头焊接\",\n                \"插接头焊接\",\n                \"接地线焊接\",\n                \"电路板封胶\",\n                \"上壳锁轮安装\",\n                \"散热片安装\",\n                \"导管安装\",\n                \"转轮安装\",\n                \"上壳组件安装\",\n                \"手柄手轮安装\",\n                \"过程检\",\n                \"完工检\",\n                \"内包检\",\n                \"外包检\",\n                \"最终检\",\n                \"出厂检\"\n            ],\n            processList: Array(22).fill().map(() => { return (new UTSJSONObject({\n                inspector: '',\n                inspectTime: '',\n                image: '',\n                inspectResult: '' // 检验结果\n            })); }),\n            inspectResultOptions: [\n                \"合格\",\n                \"不合格\",\n                \"遮光3%可遮\",\n                \"软头漏光\",\n                \"前端光纤断\",\n                \"通体漏光\",\n                \"软头漏光长度超5mm\"\n            ],\n            exportRequestActive: false,\n            showDownloadTip: false // 新增：下载提示标志\n        };\n    },\n    computed: {\n        currentProcess() {\n            return this.currentProcessIndex !== null ? this.processList[this.currentProcessIndex] : null;\n        }\n    },\n    onLoad() {\n        // 从本地存储获取扫描历史\n        const history = uni.getStorageSync('scanHistory');\n        if (history) {\n            this.scanHistory = UTS.JSON.parse(history);\n        }\n    },\n    methods: {\n        // 检查登录账号和密码是否正确\n        checkLogin() {\n            if (this.loginAccount.trim() === this.allowedAccount &&\n                this.loginPassword === this.allowedPassword) {\n                this.isLoggedIn = true;\n            }\n            else {\n                uni.showToast({\n                    title: '账号或密码错误',\n                    icon: 'none'\n                });\n            }\n        },\n        // 扫码功能\n        scanCode() {\n            uni.scanCode(new UTSJSONObject({\n                success: (res) => {\n                    // 直接将扫描结果作为设备编号\n                    this.deviceId = res.result;\n                },\n                fail: (err) => {\n                    uni.showToast({\n                        title: '扫码失败',\n                        icon: 'none'\n                    });\n                }\n            }));\n        },\n        // 处理工序选择\n        handleProcessChange(e = null) {\n            this.currentProcessIndex = Number(e.detail.value);\n        },\n        // 处理日期选择\n        handleDateChange(e = null) {\n            this.processList[this.currentProcessIndex].inspectTime = e.detail.value;\n        },\n        // 处理图片上传\n        handleUploadImage() {\n            uni.chooseImage({\n                count: 1,\n                success: (res) => {\n                    const tempFilePath = res.tempFilePaths[0];\n                    // 捕获当前工序索引\n                    const processIndex = this.currentProcessIndex;\n                    // 提取文件扩展名，若没有则默认使用 .jpg\n                    const dotIndex = tempFilePath.lastIndexOf('.');\n                    const ext = dotIndex !== -1 ? tempFilePath.substring(dotIndex) : '.jpg';\n                    uni.showLoading({ title: '上传中...' });\n                    // 对设备编号进行 URL 编码，确保安全\n                    const validDeviceId = encodeURIComponent(this.deviceId);\n                    // 这里直接用编号作为工序标识（可根据需要修改为实际工序名称并编码）\n                    const validProcessName = 'P' + (processIndex + 1);\n                    // 对检测人员和检测时间做 URL 编码\n                    const validInspector = encodeURIComponent(this.currentProcess.inspector);\n                    const validInspectTime = encodeURIComponent(this.currentProcess.inspectTime);\n                    // 新增：将检验结果转换为英文代码，避免中文出现在文件名中\n                    const inspectResultMapping = new UTSJSONObject({\n                        \"合格\": \"R1\",\n                        \"不合格\": \"R2\",\n                        \"遮光3%可遮\": \"R3\",\n                        \"软头漏光\": \"R4\",\n                        \"前端光纤断\": \"R5\",\n                        \"通体漏光\": \"R6\",\n                        \"软头漏光长度超5mm\": \"R7\"\n                    });\n                    const validInspectResult = inspectResultMapping[this.currentProcess.inspectResult] || \"UNK\";\n                    // 定义云端存储路径，形如：upload/设备编号_P1_测试人员_检测时间_检验结果_时间戳.ext\n                    const cloudPath = `upload/${validDeviceId}_${validProcessName}_${validInspector}_${validInspectTime}_${validInspectResult}_${Date.now()}${ext}`;\n                    uniCloud.uploadFile({\n                        filePath: tempFilePath,\n                        cloudPath: cloudPath\n                    }).then((uploadRes) => { return __awaiter(this, void 0, void 0, function* () {\n                        if (uploadRes && uploadRes.fileID) {\n                            // 新增图片索引记录\n                            yield uniCloud.callFunction({\n                                name: 'submit_process',\n                                data: new UTSJSONObject({\n                                    type: 'IMAGE_INDEX',\n                                    data: new UTSJSONObject({\n                                        deviceId: this.deviceId,\n                                        processName: this.processNames[processIndex],\n                                        fileID: uploadRes.fileID\n                                    })\n                                })\n                            });\n                            uniCloud.getTempFileURL({\n                                fileList: [uploadRes.fileID]\n                            }).then(tempUrlRes => {\n                                let tempUrl = tempUrlRes.fileList[0].tempFileURL;\n                                // 添加时间戳参数防止缓存问题\n                                tempUrl = tempUrl + '?t=' + Date.now();\n                                // 以响应式方式更新当前工序图片\n                                this.$set(this.processList, processIndex, new UTSJSONObject(Object.assign(Object.assign({}, this.processList[processIndex]), { image: tempUrl })));\n                                uni.hideLoading();\n                                uni.showToast({ title: '上传成功', icon: 'success' });\n                            }).catch((err = null) => {\n                                uni.hideLoading();\n                                uni.showToast({ title: '获取预览图失败', icon: 'none' });\n                                uni.__f__('error', 'at pages/index/index.vue:328', err);\n                            });\n                        }\n                        else {\n                            uni.hideLoading();\n                            uni.showToast({ title: '图片上传失败', icon: 'none' });\n                        }\n                    }); }).catch((err = null) => {\n                        uni.hideLoading();\n                        uni.showToast({ title: '图片上传失败', icon: 'none' });\n                        uni.__f__('error', 'at pages/index/index.vue:337', err);\n                    });\n                },\n                fail: () => {\n                    uni.showToast({ title: '图片选择失败', icon: 'none' });\n                }\n            });\n        },\n        // 提交表单\n        handleSubmit() {\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!this.deviceId) {\n                    uni.showToast({\n                        title: '请先输入或扫码获取设备编号',\n                        icon: 'none'\n                    });\n                    return Promise.resolve(null);\n                }\n                // 表单验证\n                if (!this.validateForm()) {\n                    return Promise.resolve(null);\n                }\n                try {\n                    uni.showLoading({\n                        title: '提交中...'\n                    });\n                    const result = yield uniCloud.callFunction({\n                        name: 'submit_process',\n                        data: new UTSJSONObject({\n                            deviceId: this.deviceId,\n                            processName: this.processNames[this.currentProcessIndex],\n                            processData: new UTSJSONObject({\n                                inspector: this.currentProcess.inspector,\n                                inspectTime: this.currentProcess.inspectTime,\n                                inspectResult: this.currentProcess.inspectResult,\n                                image: this.currentProcess.image\n                            })\n                        })\n                    });\n                    if (result.result.code === 0) {\n                        uni.showToast({\n                            title: '提交成功',\n                            icon: 'success'\n                        });\n                        // 重置当前工序数据\n                        this.processList[this.currentProcessIndex] = {\n                            inspector: '',\n                            inspectTime: '',\n                            image: '',\n                            inspectResult: ''\n                        };\n                    }\n                    else {\n                        throw new Error(result.result.msg);\n                    }\n                }\n                catch (error) {\n                    uni.showToast({\n                        title: error.message || '提交失败',\n                        icon: 'none'\n                    });\n                    uni.__f__('error', 'at pages/index/index.vue:401', '提交失败：', error);\n                }\n                finally {\n                    uni.hideLoading();\n                }\n            });\n        },\n        // 新增：导出全部数据方法（调用云函数 export_all_excel）\n        handleExport() {\n            return __awaiter(this, void 0, void 0, function* () {\n                this.exportRequestActive = true; // 标记开始导出\n                try {\n                    uni.showLoading({ title: '导出中...' });\n                    const res = yield uniCloud.callFunction({ name: 'export_all_excel' });\n                    uni.hideLoading();\n                    // 如果在等待过程中用户点击了终止\n                    if (!this.exportRequestActive) {\n                        uni.showToast({ title: '导出已终止', icon: 'none' });\n                        return Promise.resolve(null);\n                    }\n                    if (res.result && res.result.code === 0) {\n                        uni.showToast({ title: '导出成功', icon: 'success' });\n                        uni.__f__('log', 'at pages/index/index.vue:421', \"Excel 文件链接：\", res.result.data.excelFile);\n                    }\n                    else {\n                        uni.showToast({ title: '导出失败', icon: 'none' });\n                    }\n                }\n                catch (error) {\n                    uni.hideLoading();\n                    if (this.exportRequestActive) {\n                        uni.showToast({ title: '导出失败', icon: 'none' });\n                    }\n                    uni.__f__('error', 'at pages/index/index.vue:430', error);\n                }\n                this.exportRequestActive = false; // 请求结束\n            });\n        },\n        // 新增：终止导出操作（仅控制前端状态）\n        handleCancelExport() {\n            if (this.exportRequestActive) {\n                this.exportRequestActive = false;\n                uni.hideLoading();\n                uni.showToast({ title: '已终止导出', icon: 'none' });\n                uni.__f__('log', 'at pages/index/index.vue:441', '导出操作已终止');\n            }\n        },\n        // 表单验证\n        validateForm() {\n            const process = this.currentProcess;\n            if (!process.inspector || !process.inspectTime) {\n                uni.showToast({\n                    title: '请完善当前工序信息',\n                    icon: 'none'\n                });\n                return false;\n            }\n            return true;\n        },\n        // 处理检验结果选择\n        handleInspectResultChange(e = null) {\n            const index = Number(e.detail.value);\n            this.processList[this.currentProcessIndex].inspectResult = this.inspectResultOptions[index];\n        },\n        // 新增：批量下载功能\n        handleBatchDownload() {\n            var _a;\n            return __awaiter(this, void 0, void 0, function* () {\n                if (!this.deviceId) {\n                    uni.showToast({ title: '请先输入设备编号', icon: 'none' });\n                    return Promise.resolve(null);\n                }\n                try {\n                    uni.showLoading({\n                        title: '正在生成压缩包...',\n                        mask: true\n                    });\n                    // 设置超时监控（5分钟）\n                    const timeout = setTimeout(() => {\n                        uni.showModal(new UTSJSONObject({\n                            title: '提示',\n                            content: '处理时间较长，请勿关闭页面',\n                            showCancel: false\n                        }));\n                    }, 120000);\n                    const res = yield uniCloud.callFunction({\n                        name: 'batch_download_images',\n                        data: new UTSJSONObject({ deviceId: this.deviceId })\n                    });\n                    if (!((_a = res.result.data) === null || _a === void 0 ? null : _a.zipUrl)) {\n                        throw new Error('压缩包生成失败');\n                    }\n                    const tempUrlRes = yield uniCloud.getTempFileURL({\n                        fileList: [res.result.data.zipUrl]\n                    });\n                    uni.downloadFile({\n                        url: tempUrlRes.fileList[0].tempFileURL,\n                        success: (downloadRes) => {\n                            if (downloadRes.statusCode !== 200) {\n                                throw new Error(`下载失败：${downloadRes.statusCode}`);\n                            }\n                            uni.saveFileToDisk(new UTSJSONObject({\n                                filePath: downloadRes.tempFilePath,\n                                success: () => {\n                                    uni.showModal(new UTSJSONObject({\n                                        title: '下载完成',\n                                        content: '压缩包已保存至手机下载目录',\n                                        showCancel: false\n                                    }));\n                                },\n                                fail: (e = null) => {\n                                    uni.__f__('error', 'at pages/index/index.vue:514', '保存失败:', e);\n                                    uni.showToast({ title: '保存失败，请检查存储权限', icon: 'none' });\n                                }\n                            }));\n                        },\n                        fail: (err) => {\n                            throw new Error(`下载失败：${err.errMsg}`);\n                        }\n                    });\n                }\n                catch (e) {\n                    uni.__f__('error', 'at pages/index/index.vue:524', '导出错误:', e);\n                    uni.showToast({\n                        title: `操作失败：${e.message || e.errMsg}`,\n                        icon: 'none',\n                        duration: 3000\n                    });\n                }\n                finally {\n                    clearTimeout(timeout);\n                    uni.hideLoading();\n                }\n            });\n        },\n        openSettingGuide() {\n            uni.showModal(new UTSJSONObject({\n                title: '权限申请',\n                content: '请在系统设置中允许应用访问相册权限',\n                confirmText: '去设置',\n                success: (res) => {\n                    if (res.confirm) {\n                        uni.openSetting();\n                    }\n                }\n            }));\n        },\n        // 新增：跳转后台\n        goToAdmin() {\n            uni.navigateTo({\n                url: '/pages/admin/admin'\n            });\n        },\n    }\n});\n//# sourceMappingURL=E:/table/APE/Scancode_tiyan/Scancode/pages/index/index.vue?vue&type=script&lang.uts.js.map","references":[],"uniExtApis":["uni.getStorageSync","uni.showToast","uni.scanCode","uni.chooseImage","uni.showLoading","uniCloud.uploadFile","uniCloud.callFunction","uniCloud.getTempFileURL","uni.hideLoading","uni.__f__","uni.showModal","uni.downloadFile","uni.saveFileToDisk","uni.openSetting","uni.navigateTo"],"map":"{\"version\":3,\"file\":\"index.vue?vue&type=script&lang.uts.js\",\"sourceRoot\":\"\",\"sources\":[\"index.vue?vue&type=script&lang.uts\"],\"names\":[],\"mappings\":\"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\"}"}
